# Shareit

> ShareIt - сервис, который помогает людям
> делиться вещами, чтобы сэкономить на их покупке,
> особенно если вещь нужна на короткий срок или вовсе "на один раз".
> Пользователи могут брать вещи в аренду,
> закрыть к ним доступ на время аренды,
> а также оставлять запросы на добавление новых вещей,
> если нужной не оказалось на платформе.

## Оглавление

- [Валидация](#валидация)
- [Инструкция по установке](#инструкция-по-установке)
- [Реализованные эндпоинты](#реализованные-эндпоинты)
- [Технологический стек](#технологический-стек)

## Валидация

Входные данные, которые приходят в запросе на добавление
должны соответствовать определённым критериям:

<details>
    <summary><h3>Для вещей:</h3></summary>

* Название должно быть указано и не быть пустым
* Описание должно быть указано и не быть пустым
* Статус шеринга должен быть указан

</details>

<details>
    <summary><h3>Для пользователей:</h3></summary>

* Электронная почта должна быть указанна, соответствовать формату e-mail, а также быть уникальной

</details>

<details>
    <summary><h3>Для Бронирования:</h3></summary>

* Идентификатор вещи должен быть указан
* Время старта бронирования должно быть указано, находиться в будущем
* Время конца бронирования должно быть указано, находиться в будущем, а также следовать после времени
  старта

</details>

<details>
    <summary><h3>Для Комментария:</h3></summary>

* Текст комментария должен быть указан и не быть пустым

</details>

## Инструкция по установке

- [Требования](#требования)
- [Установка](#установка)
- [Запуск](#запуск)

### Требования

- Git
- Docker
- JDK 11 или выше
- Apache Maven 3.6.0 или выше

### Установка

1. Склонируйте репозиторий на свой компьютер с помощью команды:
```bash
git clone https://github.com/Exc1usiveRUS/java-shareit.git
```

2. Перейдите в директорию проекта:
```bash
cd java-shareit
```

3. Соберите проект с помощью Apache Maven:
```bash
mvn clean install
```

### Запуск

После установки проекта, вы можете запустить его с помощью команды:
```bash
sudo docker-compose up -d
```

## Реализованные эндпоинты

<details>
  <summary><h3>Вещи</h3></summary>

* **POST**  `/items`                    — Добавление новой вещи
* **PATCH** `/items/{itemId}`           — Редактирование вещи. Изменить можно название,
  описание и статус доступа к аренде.
  Редактировать вещь может только её владелец
* **GET**   `/items/{itemId}`           — Просмотр информации о конкретной вещи по её идентификатору.
  Информацию о вещи может просмотреть любой пользователь
* **GET**   `/items`                    — Просмотр владельцем списка всех его вещей с указанием названия
  и описания для каждой
* **GET**   `/items/search?text={text}` — Поиск доступных вещей содержащих параметр text в названии или описании

</details>

<details>
  <summary><h3>Пользователи</h3></summary>

* **POST**   `/users`          — `создание` пользователя
* **PATCH**  `/users/{userId}` — `редактирование` пользователя
* **GET**    `/users/{userId}` — `получение` информации о пользователе `по идентификатору`
* **GET**    `/users`          — `получение всех` пользователей
* **DELETE** `/users/{userId}` — `удаление` пользователя `по идентификатору`

</details>

<details>
  <summary><h3>Бронирование</h3></summary>

* **POST**  `/bookings`             — Запрос может быть создан любым пользователем,
  а затем подтверждён владельцем вещи. После создания
  запрос находится в статусе WAITING — «ожидает подтверждения»
* **PATCH** `/bookings/{bookingId}` — Подтверждение или отклонение запроса на бронирование,
  может быть выполнено только владельцем вещи.
  Затем статус бронирования становится либо APPROVED, либо REJECTED.
  параметр approved может принимать значения true или false
* **GET**   `/bookings/{bookingId}` — Получение данных о конкретном бронировании (включая его статус).
  Может быть выполнено либо автором бронирования, либо владельцем вещи,
  к которой относится бронирование
* **GET**   `/users`                — Получение списка всех бронирований текущего пользователя.
  Параметр state необязательный и по умолчанию равен ALL — «все».
  Также он может принимать значения CURRENT — «текущие»,
  PAST — «завершённые», FUTURE — «будущие», WAITING — «ожидающие подтверждения»,
  REJECTED — «отклонённые». Бронирования возвращаются отсортированными по дате
  от более новых к более старым
* **GET**   `/users/owner`          — Получение списка бронирований для всех вещей текущего пользователя.
  Этот запрос имеет смысл для владельца хотя бы одной вещи.
  Работа параметра state аналогична его работе в предыдущем сценарии

</details>

<details>
  <summary><h3>Комментарии</h3></summary>

* **POST** `/items/{itemId}/comment` — создание комментария
* **GET**  `/items/{itemId}`         — отзывы для конкретной вещи
* **GET**  `/items`                  — отзывы для всех вещей данного пользователя

</details>

## Технологический стек

- Java 11
- Spring Boot 2
- ORM: Hibernate, Spring Data JPA
- Apache Maven
- Docker: dockerfile, docker-compose
